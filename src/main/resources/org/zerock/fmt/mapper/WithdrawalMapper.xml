<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

    <mapper namespace="org.zerock.fmt.mapper.WithdrawalMapper">

      <insert id="insertWithdrawal">
          INSERT INTO tbl_withdrawal
          VALUES (w_num.NEXTVAL, #{user_email}, #{bank_account}, #{w_quantity}, #{w_price}, #{approval}, CURRENT_DATE)
      </insert>
    
      <!-- 승인여부 수정 -->
    	<update id="updateState">
        UPDATE tbl_withdrawal
        SET approval = #{approval}
        WHERE w_num = #{w_num}
      </update>
    	
    </mapper>    